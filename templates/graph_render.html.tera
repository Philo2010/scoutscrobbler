<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Team Scores Line Graph</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h2>Team Score Over Time</h2>
    <canvas id="lineChart" width="800" height="400"></canvas>

    <script>
        const labels = [
            {% for item in team_data %}
                "{{ item.created_at }}"{% if not loop.last %},{% endif %}
            {% endfor %}
        ];

        const data = {
            labels: labels,
            datasets: [{
                label: 'Total Score',
                data: [
                    {% for item in team_data %}
                        {{ item.total_score }}{% if not loop.last %},{% endif %}
                    {% endfor %}
                ],
                fill: false,
                borderColor: 'rgb(75, 192, 192)',
                tension: 0.1
            }]
        };

        const config = {
            type: 'line',
            data: data,
            options: {
                responsive: true,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Date'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Score'
                        }
                    }
                }
            }
        };

        new Chart(
            document.getElementById('lineChart'),
            config
        );
    </script>
</body>
</html>
